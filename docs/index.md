# はじめに{.unnumbered}
## 想定読者と章構成 {.unnumbered}
## 開発対象とその開発環境 {.unnumbered}
## サンプルコードのダウンロード  {.unnumbered}
## 本書の問い合わせ先  {.unnumbered}
## 謝辞 {.unnumbered}
## 免責と商標について  {.unnumbered}



<!-- BLE基礎 -->
- 歴史的経緯、適用範囲、クラシックBTとの違い
- 特徴、低消費電力、データの表現、スマートフォンの存在
-- 低消費電力、無線通信技術
-- データ表現、GATT、プロファイル
- 必要なこと、セキュリティ
-- セキュリティ、プライバシー
-- ペアリング、ボンディング
- 歴史的なこれから、メッシュとか

- iOSとの関係
-- HomeKitとか、エコシステム。
-- iBeacon的な。
-- アプセサリの話

- アプセサリの考え方
-- すでにある製品をBLE化するとか、全体分類
-- 無線通信の時代の流れ
-- データの流れ、ライフサイクル

- iOSでの開発、フレームワークの構成
-- セントラル
-- ペリフェラル
-- セントラル/ペリフェラル組み合わせ
-- iBeacon
-- HomeKit

- 場面ごとのあれこれ
--


-- 開発途中の、GATTハンドラの齟齬
-- デバイスの識別
--- アドレスの話、OSの話、実際の例。
-- OSの構造によるもの
--- アプリの終了とバックグラウンドの起動と


# Bluetooth Low Energy の概要とその活用
## 規格の生い立ちとその特色
### Bluetooth無線技術の変遷
### Bluetooth Smart Ready とBluetooth Smart
### Bluetooth Low Energy の無線通信技術の特徴
### プロトコルとプロファイル
### カスタム・プロファイルとアプセサリ
### スマートフォンでのBluetooth low energy体験
### Bluetooth無線技術のこれから
## Bluetooth low energy の無線通信技術
### 無線通信を会話に例えると
### Bluetooth low energyが使う2.4GHzの電波
### 超低消費電力無線通信の技術
### Bluetooth low energyのピコネット
### スループットとレイテンシー
### 無線通信の混信対策と共存の技術
## Bluetooth low energy のデータ表現
### サービスとキャラクタリス
### もののデータベース表現
### データベースとしてのものの表現
### サービスとプロファイル
### カスタム・プロファイルとプロファイルの標準化
## セキュリティとプライバシー
### 無線通信の利用場面と暗号化技術
### 無線通信への攻撃方法
### ペアリングとボンディング
## iOSデバイスとアプセサリ
### クラシックBluetoothでのiOSの周辺機器開発
### Bluetooth low energyとiOSと連携するアクセサリ
### Apple社独自の周辺機器仕様
### Bluetooth low energyとビーコン
### HomeKitとBluetooth low energy
### iOSと Bluetooth low energy の今後

## アプセサリとその事業
### 資本と拡大再生産
### ハードウェアのライフサイクルと課金
### Bluetooth Smart機器の利用分野
### 事業化と周囲環境
### 事業化とその失敗
## アプセサリとデータの流れ
### 入力と出力
### 物理量とセンサー
### 人体との入出力
### デバイスがもたらす排他性
## アプセサリとプロトタイピング
### プロトタイピングとハードウェア
### ブレインストーミング
## プロトタイピング
### プロトタイピングの目的と効果
### アクセサリと会社設立
### アクセサリとOEMとODM
### ハードウェアとソフトウェアの開発体制
### ハードウェア設計
### アクセサリの実例
## まとめ




# Bluetooth Low Energy の無線通信技術
## 有線および無線通信の歴史
### 有線通信の誕生と発展
### 無線通信の誕生と発展
### 通信と放送から情報通信へ
### 点や面から網目のつながりへ
### ネットワークを通じて連携するものごと
## 無線通信と通信規格
### プロプライエタリな通信規格とスマートフォン
### 無線通信規格の役割
### 無線LANとクラシックBluetooth
##  Bluetooth Low Energy のアーキテクチャ
### コントローラとホスト
### ホスト・コントロール・インタフェース
### Logic Link Control and Adaptation Protocol
### Attribute Protocol(ATT)とGeneric Attribute Profile(GATT)
### ジェネリック・アクセス・プロファイル
## 隣接デバイスとの無線通信
### 周波数帯
### 変調方式
### チャンネル
### パケット・フォーマット
## 発見と接続
### デバイスの発見とピコネットへの参加
### アドバタイジング・パケット
#### スキャン
#### ペイロードのフォーマット
#### パブリック・デバイス・アドレスとランダム・デバイス・アドレス
#### アドバタイジング・データのフォーマット
##### Flags
##### Local Name
##### Manufacturer Specific Data
##### Tx Power Level
##### Service UUIDs
### 接続と通信
#### 通信のタイミング
#### CONNECT_REQ PDUペイロード
## 通信
### ロジカル・リンク・データPDU
### ロジカル・リンク・コントロールPDU
## Logic Link Control and Adptation Protocol
### パケット構造
## Attribute Protocol と Generic Attribute Profile
### ATTとGATTの特徴
### アトリビュート・プロトコル
#### アトリビュート
#### リクエストとインディケーション
#### コマンドとノーティフィケーション
#### アトリビュートPDUフォーマット
#### ロング・アトリビュートとその扱い
##### Exchange MTUリクエスト/レスポンス
#### アトリビュートへのアクセス
##### ファインド・リクエスト
##### リード・リクエスト
##### ライト・リクエスト
##### インディケーションとノーティフィケーション
### ジェネリック・アトリビュート・プロファイル
#### サービスとキャラクタリスティクス
#### サービスとキャラクタリスティクスの例
#### サービス
#### キャラクタリスティクス
##### キャラクタリスティクス・デクラレーション
##### キャラクタリスティクス・ディスクリプタ
##### Characteristic Extended Properties
##### Characteristic User Descriptor
##### Client Characteristic Configuration
##### Server Characteristic Configuration
##### Characteristic Presentation Format




# Bluetooth Low EnergyのiOSアプリケーション開発
## アプリケーション開発のBluetooth LE基礎知識
### クラシックBluetoothとBluetooth LE
### クラシックBluetoothのプロファイル
### Bluetooth LEのプロファイルとプロトコル
### サービスとキャラクタリスティクス
## Bluetooth LEの最善の使いかた
### 電力消費量を最小にする
### バックグラウンド状態でのデバイスの発見とアドバタイズメント
## Core Bluetoothフレームワーク
### UUIDとCBUUIDクラス
#### UUIDの生成
### セントラル・マネージャとペリフェラル・マネージャ
#### セントラル・マネージャの役割
##### セントラル・マネージャのインスタンス生成
##### Bluetoothの状態取得
##### ペリフェラルのスキャン
##### アドバタイジング・パケットの受信
##### アドバタイジング・データ
##### ペリフェラルへの接続
##### サービスの検索
##### キャラクタリスティクスの検索
##### キャラクタリスティクスの読み出し
##### キャラクタリスティクスへの書き込み
#### ペリフェラル・マネージャーの役割
##### ペリフェラルのマネージャーを開始する
##### ペリフェラル・マネージャーの状態
##### サービスとキャラクタリスティクスの構築
##### キャラクタリスティクスのコンフィグレーション
#### センシティブなデータの扱い
##### ペリフェラル・マネージャーへのサービス追加
##### アドバタイズメントの開始と停止
##### 読み出しリクエストへの応答
##### 書き込みリクエストへの応答
##### セントラルへの通知
## バックグラウンド処理
### フォアグラウンド状態のみiOSアプリケーション
### ユーザへのアラート通知
### バックグラウンド・モード
#### セントラル・ロールでのバックグラウンド実行
#### ペリフェラル・ロールでのバックグラウンド実行
#### バックグラウンド・モードのベストプラクティス
## Core Bluetoothフレームワークのベスト・プラクティス
### スキャンは必要最小限に
### 重複するアドバタイズメント・パケットの検出は最小に
### サービスの検索を最小に
### サブスクライブと読み出しの使いかた
### ペリフェラルの切断
### ペリフェラルへの再接続
### 接続しているペリフェラルのリストを取得する
### アドバタイジング・データの考慮




# Bluetooth Low Energyの体験づくりとその試作
## プロトタイピング
### 節目で説明。それぞれ、細かく
### 戦略の話
### モックの話
### プロトタイピングとしての形にする
### 製造/販売可能
## アクセサリと会社設立
### アクセサリとOEMとODM
### ハードウェアとソフトウェアの開発体制
### ハードウェア設計
### アクセサリの実例
### 運用/破棄のシミュレーション
## ハードウェアとファームウェア
### アプセサリの種類と構成
### ネットワークのトポロジ
### 接続のタイミング
### ペアリングとボンディング
### 消費電力とレスポンス
## 認証周り
### 電波法
### Bluetooth SIG
## Bluetooth Low Energyの半導体
### 評価項目
### 半導体の種類
### 構成の全体像
### 開発環境
### 他の無線通信技術との統合
### BT4.0/4.1/4.2
### 電気的な特性
## アプセサリでのファームウェア開発
### チーム構成
### 回路設計が先か、ファームが先か
### はまりどころ
### トラブルの原因切り分けと対応
### スニファの準備と使い方
## HCIでプロトタイピング




# 実験メモ
### ドングルの動作確認
### OS X Bluetooth ドライバの振る舞いを理解する
### OSX Bluetooth LEアプリケーションをテストする
## libUSB かなにかでBTドングルに接続する
